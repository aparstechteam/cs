import{r as a,u as b,o as f,c as v,a as e,w as u,v as i,n as x,b as y,t as S}from"./index-82de7632.js";const g={class:"max-w-4xl p-5 mx-auto"},w=e("div",{class:"text-center"},[e("h2",{class:"text-2xl font-semibold"},"Submit a ticket"),e("p",null,"Submit a ticket to get help from our support team")],-1),k=["onSubmit"],N={class:"form-control"},V=e("label",{for:"name"},"Name",-1),O={class:"form-control"},U=e("label",{for:"phone"},"Phone",-1),D={class:"space-y-2 form-control"},P=e("label",{for:"problem_type",class:""},"Course Name",-1),R=e("p",{class:"text-sm"},null,-1),T={class:"space-y-2 form-control"},B=e("label",{for:"problem",class:""},"Problem",-1),C=e("p",{class:"text-sm"},null,-1),I={class:"space-y-2 form-control"},J=e("label",{for:"file",class:""},"Related Image/ScreenShoot/Video(Optional)",-1),q=e("p",{class:"text-sm"},null,-1),F={class:"mt-5 text-center"},A={__name:"SubmitProblem",setup(M){const c=a(""),p=a(""),d=a(""),n=a(!1),r=JSON.parse(localStorage.getItem("acs_token")),s=a({name:r?r.name:"",phone:r?r.phone:""}),m=b(),_=()=>{n.value=!0;let l=s.value.phone.substr(s.value.phone.length-10,s.value.phone);localStorage.setItem("acs_token",JSON.stringify({...s.value,phone:l})),fetch(S,{method:"POST",cors:"no-cors",redirect:"follow",cache:"no-cache",body:JSON.stringify({name:s.value.name,phone:l,problem:c.value,problem_type:p.value,file:d.value})}).then(t=>{setTimeout(()=>{m.push("/")},1e3),n.value=!1}).catch(t=>{console.log(t),n.value=!1})},h=l=>{let t=l.target.files[0];const o=new FileReader;o.readAsDataURL(t),o.onload=()=>{d.value=o.result}};return(l,t)=>(f(),v("div",g,[w,e("form",{onSubmit:y(_,["prevent"]),class:"space-y-5"},[e("div",N,[V,u(e("input",{type:"text",required:"","onUpdate:modelValue":t[0]||(t[0]=o=>s.value.name=o),class:"input input-bordered"},null,512),[[i,s.value.name]])]),e("div",O,[U,u(e("input",{type:"tel",required:"","onUpdate:modelValue":t[1]||(t[1]=o=>s.value.phone=o),class:"input input-bordered"},null,512),[[i,s.value.phone]])]),e("div",D,[P,R,u(e("input",{type:"text",class:"input input-bordered","onUpdate:modelValue":t[2]||(t[2]=o=>p.value=o)},null,512),[[i,p.value]])]),e("div",T,[B,C,u(e("textarea",{name:"",id:"",cols:"30",rows:"10",class:"w-full textarea textarea-bordered","onUpdate:modelValue":t[3]||(t[3]=o=>c.value=o),placeholder:"Describe your problem"},null,512),[[i,c.value]])]),e("div",I,[J,q,e("input",{type:"file",class:"w-full input input-bordered",onChange:h},null,32)]),e("div",F,[e("button",{type:"submit",class:x(["btn btn-primary",{loading:n.value}])},"Submit",2)])],40,k)]))}};export{A as default};
